@using UCITMS.ViewModels
@model List<VMMenu>

@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor

<style>
    .ui.vertical.menu {
        min-width: 20rem;
    }   

    .ui.menu {
        margin: 0;
        border-radius: 0;
    }

    .ui.menu .item {
        font-size: 1.2rem;
        padding: 0px;
    }

    .ui.menu .item:hover {
        background-color: #f7f7f7;
        cursor: pointer;
    }

    .ui.menu .header {
        font-size: 1.2rem;
    }

    .leftmenu-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15.6px 19.2px;
    }

    .leftmenu-item i {
        margin-left: 10px;
        font-size: 1.4rem;
        color: #333;
    }

    a {
        color: inherit;
        text-decoration: none;
    }

    .ui.icon {
        margin: 0;
    }

    /* Highlight the selected item */
    .ui.menu .item.active {
        background-color: #f7f7f7;
        font-weight: 600;
    }

</style>

<div class="ui vertical menu">
    @foreach (var parentItem in Model.OrderBy(o => o.SortOrder))
    {
        var isActive = parentItem.NavigationPath == (string)ViewData["SelectedMenuPath"] ? "active" : "";
        <div class="item @isActive">
            <a href="@parentItem.NavigationPath">
                <div class="leftmenu-item">
                    <div>
                        <span class="header">@parentItem.MenuName</span>
                    </div>
                    <div>
                        <i class="@parentItem.ImagePath"></i>
                    </div>
                </div>
            </a>
        </div>
    }
</div>
